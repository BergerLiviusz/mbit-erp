<!-- Generated by SpecStory, Markdown v2.1.0 -->

<!-- cursor Session 1f920f2c-d63a-4fb3-ad1b-14da2bc0c9ca (2025-11-23 11:05Z) -->

# Frontend layout adjustments for settings (2025-11-23 11:05Z)

_**User (2025-11-23 12:39Z)**_

helyezzük a frontendben át a "hibabejlentés-t" a beállításokba , a "felhasználók" tab után.

A "kijelentkezés" ne a headerben legyen szintén hanem a beállításokban legyen egy gomb ami egyértelműen a kijelentkezésst kezeli. hogyan csináljuk meg hogy jól mutasson és a logo is sok felbontáson jól látszódjon a responsive designban

---

_**Agent (model composer-1, mode Ask)**_



---


Átnézem az App.tsx fájlt és a kapcsolódó komponenseket, hogy lássam a jelenlegi struktúrát.


---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: /Users/liviuszberger/mbit-erp/apps/web/src/App.tsx</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="search" data-tool-name="codebase_search">
<details>
                <summary>Tool use: **codebase_search** • Searched codebase "hibabejlentés bug report component" • **12** results</summary>
            
| File | Lines |
|------|-------|
| `apps/web/src/pages/BugReport.tsx` | L71 |
| `apps/server/prisma/schema.prisma` | L1388-1436 |
| `apps/web/src/pages/Settings.tsx` | L24-476 |
| `apps/server/src/system/bug-report.service.ts` | L27 |
| `apps/server/src/system/bug-report.service.ts` | L31-215 |
| `apps/web/src/pages/CRM.tsx` | L1060 |
| `apps/server/src/system/bug-report.controller.ts` | L15-115 |
| `apps/web/src/pages/HR/Reports.tsx` | L1-393 |
| `apps/web/src/pages/HR/Reports.tsx` | L393 |
| `apps/server/src/system/bug-report.service.ts` | L3-31 |
| `apps/server/src/system/bug-report.controller.ts` | L115 |
| `apps/web/src/pages/CRM.tsx` | L6-1060 |

</details>
</tool-use>

---

<tool-use data-tool-type="search" data-tool-name="codebase_search">
<details>
                <summary>Tool use: **codebase_search** • Searched codebase "settings beállítások page component" • **6** results</summary>
            
| File | Lines |
|------|-------|
| `apps/web/src/pages/Settings.tsx` | L24-476 |
| `apps/web/src/pages/Settings.tsx` | L18 |
| `apps/web/src/App.tsx` | L74-320 |
| `apps/web/src/pages/Settings.tsx` | L12-476 |
| `apps/web/src/pages/Settings.tsx` | L22-476 |
| `apps/server/src/system/settings.controller.ts` | L87 |

</details>
</tool-use>

---

<tool-use data-tool-type="search" data-tool-name="codebase_search">
<details>
                <summary>Tool use: **codebase_search** • Searched codebase "logout kijelentkezés header" • **11** results</summary>
            
| File | Lines |
|------|-------|
| `apps/web/src/pages/Settings.tsx` | L24-476 |
| `apps/web/src/App.tsx` | L74-320 |
| `apps/web/src/App.tsx` | L33-320 |
| `apps/web/src/App.tsx` | L36-320 |
| `apps/web/src/pages/Settings.tsx` | L22-476 |
| `apps/web/src/App.tsx` | L74 |
| `apps/web/src/pages/Login.tsx` | L1-71 |
| `apps/web/src/lib/axios.ts` | L43 |
| `apps/web/src/lib/api.ts` | L5-115 |
| `apps/web/src/pages/Logistics.tsx` | L2-219 |
| `apps/desktop/src/main.ts` | L778-813 |

</details>
</tool-use>

---



---


Átnézem a Settings.tsx fájlt részletesebben:


---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: /Users/liviuszberger/mbit-erp/apps/web/src/pages/Settings.tsx</summary>

</details>
</tool-use>

---

<tool-use data-tool-type="read" data-tool-name="read_file">
<details><summary>Tool use: **read_file** • Read file: /Users/liviuszberger/mbit-erp/apps/web/src/pages/BugReport.tsx</summary>

</details>
</tool-use>

---



---


Változtatások:

1. **Hibabejelentés tab hozzáadása a beállításokhoz** (a felhasználók tab után)
2. **Kijelentkezés gomb áthelyezése** a headerből a beállításokba
3. **Logo responsive design** javítása

## 1. App.tsx módosítások

```tsx:apps/web/src/App.tsx
// ... existing code ...

  return (
    <div className="min-h-screen bg-gray-50">
      <nav className="bg-mbit-dark text-white shadow-lg">
        <div className="container mx-auto px-4">
          <div className="flex items-center justify-between h-16">
            <div className="flex items-center space-x-4 md:space-x-8 flex-1 min-w-0">
              <Link to="/" className="flex items-center flex-shrink-0">
                <img 
                  src={MbitLogo} 
                  alt="Mbit Logo" 
                  className="h-8 md:h-10 w-auto max-w-[120px] md:max-w-none" 
                />
              </Link>
              <div className="flex space-x-2 md:space-x-4 overflow-x-auto flex-1 min-w-0">
                {/* ... existing menu items ... */}
                <Link 
                  to="/settings" 
                  className="hover:bg-gray-800 px-2 md:px-3 py-2 rounded whitespace-nowrap"
                  onClick={() => {
                    if (isElectron) {
                      import('./components/DebugPanel').then(module => {
                        module.addLog('info', 'Navigation: Clicked Beállítások', { to: '/settings' });
                      }).catch(() => {});
                    }
                  }}
                >
                  Beállítások
                </Link>
                {/* ELTÁVOLÍTANDÓ: Hibabejelentés link */}
                {/* ELTÁVOLÍTANDÓ: Kijelentkezés gomb */}
              </div>
            </div>
            {/* ELTÁVOLÍTANDÓ: A kijelentkezés gomb innen */}
          </div>
        </div>
      </nav>

// ... existing code ...

          <Route path="/settings" element={<Settings />} />
          {/* ELTÁVOLÍTANDÓ: <Route path="/bug-report" element={<BugReport />} /> */}
        </Routes>
```

## 2. Settings.tsx módosítások

```tsx:apps/web/src/pages/Settings.tsx
import { apiFetch } from '../lib/api';
import { useState, useEffect } from 'react';
import { useNavigate } from 'react-router-dom';
import BugReport from './BugReport';
import UsersTab from './UsersTab';

// ... existing interfaces ...

type TabType = 'organization' | 'backup' | 'system' | 'users' | 'bug-report';

export default function Settings() {
  const navigate = useNavigate();
  const [activeTab, setActiveTab] = useState<TabType>('organization');
  // ... existing state ...

  const handleLogout = () => {
    localStorage.removeItem('token');
    localStorage.removeItem('user');
    window.location.href = '/';
  };

  // ... existing functions ...

  return (
    <div className="max-w-4xl mx-auto">
      <h2 className="text-2xl font-bold mb-6">Beállítások</h2>

      {message && (
        <div className={`mb-4 p-3 rounded ${
          message.includes('Hiba') ? 'bg-red-100 text-red-700' : 'bg-green-100 text-green-700'
        }`}>
          {message}
        </div>
      )}

      <div className="mb-6 border-b border-gray-200">
        <nav className="flex space-x-4 md:space-x-8 overflow-x-auto">
          <button
            onClick={() => setActiveTab('organization')}
            className={`py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${
              activeTab === 'organization'
                ? 'border-mbit-blue text-mbit-blue'
                : 'border-transparent text-gray-500 hover:text-gray-700'
            }`}
          >
            Szervezet
          </button>
          <button
            onClick={() => setActiveTab('backup')}
            className={`py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${
              activeTab === 'backup'
                ? 'border-mbit-blue text-mbit-blue'
                : 'border-transparent text-gray-500 hover:text-gray-700'
            }`}
          >
            Biztonsági mentések
          </button>
          <button
            onClick={() => setActiveTab('system')}
            className={`py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${
              activeTab === 'system'
                ? 'border-mbit-blue text-mbit-blue'
                : 'border-transparent text-gray-500 hover:text-gray-700'
            }`}
          >
            Rendszer
          </button>
          <button
            onClick={() => setActiveTab('users')}
            className={`py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${
              activeTab === 'users'
                ? 'border-mbit-blue text-mbit-blue'
                : 'border-transparent text-gray-500 hover:text-gray-700'
            }`}
          >
            Felhasználók
          </button>
          <button
            onClick={() => setActiveTab('bug-report')}
            className={`py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${
              activeTab === 'bug-report'
                ? 'border-mbit-blue text-mbit-blue'
                : 'border-transparent text-gray-500 hover:text-gray-700'
            }`}
          >
            Hibabejelentés
          </button>
        </nav>
      </div>

      <div className="bg-white rounded-lg shadow p-6">
        {activeTab === 'organization' && renderOrganizationTab()}
        {activeTab === 'backup' && renderBackupTab()}
        {activeTab === 'system' && renderSystemTab()}
        {activeTab === 'users' && (
          <UsersTab
            currentUserId={JSON.parse(localStorage.getItem('user') || '{}')?.id}
            isAdmin={JSON.parse(localStorage.getItem('user') || '{}')?.roles?.includes('Admin')}
          />
        )}
        {activeTab === 'bug-report' && <BugReport />}
      </div>

      {/* Kijelentkezés gomb */}
      <div className="mt-8 pt-6 border-t border-gray-200">
        <div className="flex justify-end">
          <button
            onClick={handleLogout}
            className="bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg font-medium transition-colors flex items-center gap-2"
          >
            <svg 
              className="w-5 h-5" 
              fill="none" 
              stroke="currentColor" 
              viewBox="0 0 24 24"
            >
              <path 
                strokeLinecap="round" 
                strokeLinejoin="round" 
                strokeWidth={2} 
                d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" 
              />
            </svg>
            Kijelentkezés
          </button>
        </div>
      </div>
    </div>
  );
}
```

## 3. App.tsx header responsive design javítás

```tsx:apps/web/src/App.tsx
// ... existing code ...

      <nav className="bg-mbit-dark text-white shadow-lg">
        <div className="container mx-auto px-2 md:px-4">
          <div className="flex items-center justify-between h-14 md:h-16">
            <div className="flex items-center space-x-2 md:space-x-4 lg:space-x-8 flex-1 min-w-0">
              <Link to="/" className="flex items-center flex-shrink-0">
                <img 
                  src={MbitLogo} 
                  alt="Mbit Logo" 
                  className="h-8 sm:h-9 md:h-10 lg:h-12 w-auto max-w-[100px] sm:max-w-[120px] md:max-w-[150px] lg:max-w-none object-contain" 
                />
              </Link>
              <div className="flex space-x-1 md:space-x-2 lg:space-x-4 overflow-x-auto flex-1 min-w-0 scrollbar-hide">
                <Link 
                  to="/" 
                  className="hover:bg-gray-800 px-2 md:px-3 py-2 rounded text-sm md:text-base whitespace-nowrap"
                  onClick={() => {
                    if (isElectron) {
                      import('./components/DebugPanel').then(module => {
                        module.addLog('info', 'Navigation: Clicked Főoldal', { to: '/' });
                      }).catch(() => {});
                    }
                  }}
                >
                  Főoldal
                </Link>
                {/* ... existing menu items with similar responsive classes ... */}
                <Link 
                  to="/settings" 
                  className="hover:bg-gray-800 px-2 md:px-3 py-2 rounded text-sm md:text-base whitespace-nowrap"
                  onClick={() => {
                    if (isElectron) {
                      import('./components/DebugPanel').then(module => {
                        module.addLog('info', 'Navigation: Clicked Beállítások', { to: '/settings' });
                      }).catch(() => {});
                    }
                  }}
                >
                  Beállítások
                </Link>
              </div>
            </div>
          </div>
        </div>
      </nav>

// ... existing code ...
```

## 4. CSS hozzáadása (index.css vagy App.tsx-ben)

A scrollbar elrejtéséhez és a jobb responsive működéshez:

```css
/* Ha még nincs, add hozzá az index.css-hez */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}
```

## Összefoglalás

1. Eltávolítandó az App.tsx-ből:
   - A "Hibabejelentés" link a headerből (257-269. sorok)
   - A "Kijelentkezés" gomb a headerből (272-281. sorok)
   - A `/bug-report` route (316. sor)

2. Hozzáadandó a Settings.tsx-hez:
   - `bug-report` tab típus
   - Hibabejelentés tab a felhasználók után
   - BugReport komponens renderelése
   - Kijelentkezés gomb az oldal alján

3. Responsive design:
   - Logo méretezése különböző képernyőméretekhez
   - Header padding és spacing módosítása
   - Tab menü horizontális görgetése kis képernyőkön

Válts agent módra, ha szeretnéd, hogy alkalmazzam ezeket a változtatásokat.

---

